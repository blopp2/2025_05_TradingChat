<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SnapChart - Chart Analyzer</title>
    <link rel="stylesheet" href="sidebar.css" />
    <!-- Wichtig: feedback.css korrekt einbinden -->
    <link rel="stylesheet" href="feedback/feedback.css" />
    <script type="module" src="sidebar.js"></script>
  </head>

  <body>
    <div class="sidebar-container">
      <!-- Sticky Header -->
      <header class="sidebar-header">
        <div class="logo-container">
          <img
            src="../icons/snapchart_branding.png"
            alt="SnapChart Logo"
            class="logo"
          />
          <span class="app-title">SnapChart - Chart Analyzer</span>
        </div>
        <div class="user-container">
          <span id="user-email" class="user-email"></span>
          <a
            id="doc-link"
            class="doc-link"
            href="https://snapchart.pages.dev"
            target="_blank"
            title="Documentation"
            >📖</a
          >
          <button id="logout-btn" class="auth-btn">🚪 Logout</button>
        </div>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <div class="card control-card">
          <button id="new-analysis-btn" class="primary-btn wide-btn">
            Analyze this chart
          </button>
          <div id="screenshot-info" class="screenshot-info">
            📋 Last Screenshot:
            <span id="screenshot-time">none yet</span>
          </div>
        </div>
        <div id="result" class="card result-card"></div>
      </main>

      <footer class="sidebar-footer">
        <button id="donate-btn" class="secondary-btn">🧡☕ Donate</button>
        <button id="feedback-btn" class="secondary-btn">✉️ Feedback</button>
      </footer>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="auth-modal hidden">
      <div class="auth-modal-content">
        <span id="auth-modal-close" class="close">&times;</span>
        <h2 id="auth-modal-title">Login</h2>
        <input type="email" id="auth-email" placeholder="Email" required />
        <input
          type="password"
          id="auth-password"
          placeholder="Password"
          required
        />
        <button id="auth-submit-btn" class="primary-btn">Submit</button>
        <div id="auth-toggle" class="auth-toggle">
          ➡️ Need an account? <a href="#" id="switch-to-signup">Sign up</a>
        </div>
        <div id="auth-error" class="auth-error"></div>
      </div>
    </div>

    <!-- Feedback Modal -->
    <div id="feedback-modal" class="feedback-modal hidden">
      <div class="feedback-modal-content">
        <button id="feedback-close" class="close" type="button">&times;</button>
        <h2 class="feedback-title"><span>✉️</span> Send us your Feedback</h2>
        <textarea
          id="feedback-text"
          class="feedback-text"
          maxlength="500"
          placeholder="What’s on your mind? Any suggestions, issues, or praise?"
          rows="4"
        ></textarea>
        <button id="feedback-submit-btn" class="primary-btn">
          Send Feedback
        </button>
        <div id="feedback-message" class="auth-error"></div>
      </div>
    </div>

    <!-- Status Indicator -->
    <div id="status" class="status-indicator hidden">⌛️ Processing...</div>
  </body>
</html>
